<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Main</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <script src="/_compile/Main.elm"></script>
</head>
<body>
<div id="elm-node"></div>
<script>
    var app = Elm.Main.init({node: document.getElementById("elm-node")});
    // TODO clean this up
    var ws = new WebSocket("ws://localhost:9001");
    ws.onmessage = function(message) {
        console.log(message);
        app.ports.websocketIn.send(message.data);
    };
    //app.ports.websocketOut.subscribe(function(msg) { ws.send(msg); });
  </script>
</body>
</html>